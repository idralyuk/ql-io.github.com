
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ql.io blog</title>
  <meta name="author" content="ql.io">

  
  <meta name="description" content="cluster2 is a node.js (>= 0.6.x) compatible multi-process management module. This module grew out of
our needs in operationalizing node.js for ql.io &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ql-io.github.com/index.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="ql.io blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-21835406-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <p class="top-links">
    <span style="float:left"><a href="/">ql.io blog</a></span>
    <a href="http://ql.io/">project</a> |
    <a href="https://github.com/ql-io/ql.io/">github</a> |
    <a href="/blog/archives">archives</a> |
    <a href="/atom.xml">subscribe</a>
</p>



  <nav role="navigation"><!--<ul class="subscription" data-subscription="rss">-->
  <!--<li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>-->
  <!---->
<!--</ul>-->
  <!---->
<!--<form action="http://google.com/search" method="get">-->
  <!--<fieldset role="search">-->
    <!--<input type="hidden" name="q" value="site:ql-io.github.com" />-->
    <!--<input class="search" type="text" name="q" results="0" placeholder="Search"/>-->
  <!--</fieldset>-->
<!--</form>-->
  <!---->
<!--<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="https://github.com/ql-io/ql.io/">Github</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
-->
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/04/28/cluster2.html">Cluster2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-28T00:00:00-07:00" pubdate data-updated="true">Apr 28<span>th</span>, 2012</time>
        
         | <a href="/2012/04/28/cluster2.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>cluster2 is a node.js (>= 0.6.x) compatible multi-process management module. This module grew out of
our needs in operationalizing node.js for <a href="https://github.com/ql-io/ql.io">ql.io</a> at eBay. Built on
node&#8217;s <code>cluster</code>, cluster2 adds several safeguards and utility functions to help support real-world
production scenarios:</p>

<ul>
<li>Scriptable start, shutdown and stop flows</li>
<li>Worker monitoring for process deaths</li>
<li>Worker recycling</li>
<li>Graceful shutdown</li>
<li>Idle timeouts</li>
<li>Validation hooks (for other tools to monitor cluster2 apps)</li>
<li>Events for logging cluster activities</li>
</ul>


<p>See <a href="cluster2">http://ql-io.github.com/cluster2/</a> for more info.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/30/ql.io-0.5.html">ql.io 0.5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-30T00:00:00-07:00" pubdate data-updated="true">Mar 30<span>th</span>, 2012</time>
        
         | <a href="/2012/03/30/ql.io-0.5.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Today&#8217;s release of ql.io 0.5 includes the following changes:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2012/03/30/ql.io-0.5.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/21/ql.io-on-cloudfoundry.html">ql.io on Cloud Foundry</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-21T00:00:00-07:00" pubdate data-updated="true">Mar 21<span>st</span>, 2012</time>
        
         | <a href="/2012/03/21/ql.io-on-cloudfoundry.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Here are the steps to deploy ql.io on Cloud Foundry with node 0.6.x. This setup automatically spawns
a cluster of node processes using node&#8217;s native cluster. A sample app to demonstrate these steps is
on <a href="http://ql-io.github.com/2012/03/21/ql.io-on-cloudfoundry.html">github</a> - this includes an
<a href="https://github.com/ql-io/ql.io-cloudfoundry/blob/master/app.js">app.js</a> and a
<a href="https://github.com/ql-io/ql.io-cloudfoundry/blob/master/package.json">package.json</a> with all the
dependencies.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2012/03/21/ql.io-on-cloudfoundry.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/03/12/en-route.html">En Route</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-12T00:00:00-07:00" pubdate data-updated="true">Mar 12<span>th</span>, 2012</time>
        
         | <a href="/2012/03/12/en-route.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/shimonchayim">Cylus Penkar</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>A route in ql.io is a new consumer-optimized HTTP interface. Routes superimpose a simple and familiar HTTP interface on ql.io scripts without needing to specify an elaborate script in the request. In other words, routes make ql.io a platform to &#8220;build your own APIs&#8221;.</p>

<p>Having built this capability, in this post I want to highlight some potential ways to take advantage of routes.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2012/03/12/en-route.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/02/22/making-peace.html">Making Peace With HTTP APIs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-22T00:00:00-08:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2012</time>
        
         | <a href="/2012/02/22/making-peace.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Once in a while you come across an HTTP API that uses HTTP in complicated and incorrect ways. There
are many examples of this on the Web today including those from
<a href="http://developer.ebay.com/devzone/xml/docs/reference/ebay/GetMyeBayBuying.html">eBay</a>,
<a href="http://docs.amazonwebservices.com/amazonswf/latest/developerguide/UsingJSON-swf.html">Amazon</a>,
<a href="http://code.google.com/apis/friendconnect/docs/opensocial_rest_rpc.html">Google</a>,
<a href="http://www.bing.com/toolbox/bingdeveloper/">Microsoft</a> and many many others. These can be hard to
use as they require you to follow proprietary styles for constructing requests and parsing
responses. Some of those also don&#8217;t work well with common HTTP infrastructure like caches.</p>

<p>In this post, I would like to show how you can, in four simple steps, use ql.io to hide the
complexity of such APIs.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2012/02/22/making-peace.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/02/13/v0.4.html">ql.io 0.4.0</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-13T00:00:00-08:00" pubdate data-updated="true">Feb 13<span>th</span>, 2012</time>
        
         | <a href="/2012/02/13/v0.4.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Verson 0.4 of ql.io is out to npm today. Here is a quick summary of changes.</p>

<ul>
<li>Use native cluster module to start the app</li>
<li>Upgrade all dependencies to the latest</li>
<li>Limit response size to 10000000 bytes from upstream sources. You can change this with
<code>maxResponseLength</code> in the config.</li>
<li>Limit outgoing requests per statement to 50. You can change this with <code>maxRequests</code> in the config.</li>
<li>Chain events for logging done with log-emitter.</li>
<li>Add a new JSON based interface to browse tables and routes. Try <code>/routes</code> to start browsing.</li>
<li>Integrate <a href="https://github.com/s3u/har-view">har-view</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/02/12/nodepdx-slides.html">Slides From NodePDX</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-12T00:00:00-08:00" pubdate data-updated="true">Feb 12<span>th</span>, 2012</time>
        
         | <a href="/2012/02/12/nodepdx-slides.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Here are the slides from my talk/demo on ql.io at <a href="http://nodepdx.github.com/">NodePDX</a>.</p>

<div style="width:425px" id="__ss_11530669"> <strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/sallamar/qlio-at-nodepdx" title="ql.io at NodePDX" target="_blank">ql.io at NodePDX</a></strong> <iframe src="http://www.slideshare.net/slideshow/embed_code/11530669" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe> <div style="padding:5px 0 12px"> View more <a href="http://www.slideshare.net/thecroaker/death-by-powerpoint" target="_blank">PowerPoint</a> from <a href="http://www.slideshare.net/sallamar" target="_blank">Subbu Allamaraju</a> </div> </div>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/01/24/node-summit-slides.html">Slides From Node Summit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-24T00:00:00-08:00" pubdate data-updated="true">Jan 24<span>th</span>, 2012</time>
        
         | <a href="/2012/01/24/node-summit-slides.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>Here are the slides from the workshop on ql.io at the Node Summit titled
&#8220;ql.io: Consuming HTTP at Scale&#8221;.</p>

<div style="width:425px" id="__ss_11244206"> <strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/sallamar/qlio-consuming-http-at-scale" title="ql.io: Consuming HTTP at Scale " target="_blank">ql.io: Consuming HTTP at Scale </a></strong> <iframe src="http://www.slideshare.net/slideshow/embed_code/11244206" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe> <div style="padding:5px 0 12px"> View more <a href="http://www.slideshare.net/thecroaker/death-by-powerpoint" target="_blank">PowerPoint</a> from <a href="http://www.slideshare.net/sallamar" target="_blank">Subbu Allamaraju</a> </div> </div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/01/17/v0.4-beta.html">ql.io 0.4.0-beta</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-17T00:00:00-08:00" pubdate data-updated="true">Jan 17<span>th</span>, 2012</time>
        
         | <a href="/2012/01/17/v0.4-beta.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>This is a beta release of ql.io on node.js 0.6.x.</p>

<ul>
<li>Use native cluster module to start the app</li>
<li>Upgrade all dependencies to the latest</li>
<li>Limit response size to 10000000 bytes from upstream sources. You can change this with
<code>maxResponseLength</code> in the config.</li>
<li>Limit outgoing requests per statement to 50. You can change this with <code>maxRequests</code> in the config.</li>
<li>Chain events for logging done with log-emitter.</li>
<li>Add a new JSON based interface to browse tables and routes. Try <code>/routes</code> to start browsing.</li>
</ul>


<p>If you are interested in running ql.io on node.js 0.4.x, use the
<a href="https://github.com/ql-io/ql.io/tree/0.3">0.3 branch</a>.</p>

<p>To create an app using ql.io 0.4 modules, follow the usual steps:</p>

<pre><code> mkdir myapp
 cd myapp
 curl https://raw.github.com/ql-io/ql.io/master/modules/template/init.sh | bash
 bin/start.sh
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2012/01/09/benchmarks.html">ql.io Baseline Benchmarks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-09T00:00:00-08:00" pubdate data-updated="true">Jan 9<span>th</span>, 2012</time>
        
         | <a href="/2012/01/09/benchmarks.html#disqus_thread">Comments</a>
        
      </p>
      <p>
        
  


<span class="byline author vcard">Posted by <a href="http://github.com/s3u">Subbu Allamaraju</a></span>

      </p>
    
  </header>


  <div class="entry-content"><p>One of the key visible benefits of <a href="http://ql.io">ql.io</a> is that it eliminates the code noise that
is common in writing HTTP client apps. As a DSL for writing HTTP client code, it focuses on
automating the task of making multiple HTTP requests and processing responses in the best order
possible taking care of paralleization, orchestration, projections and normalizations behind the
scenes.</p>

<p>In this post, I would like to present the baseline performance benchmarks of ql.io running on
node.js 0.4.12. Though I have done some ad hoc tests in the last 2-3 months for hardware sizing
purposes, this is my first systematic attempt.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2012/01/09/benchmarks.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/04/28/cluster2.html">cluster2</a>
      </li>
    
      <li class="post">
        <a href="/2012/03/30/ql.io-0.5.html">ql.io 0.5</a>
      </li>
    
      <li class="post">
        <a href="/2012/03/21/ql.io-on-cloudfoundry.html">ql.io on Cloud Foundry</a>
      </li>
    
      <li class="post">
        <a href="/2012/03/12/en-route.html">En Route</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/22/making-peace.html">Making Peace with HTTP APIs</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/13/v0.4.html">ql.io 0.4.0</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/12/nodepdx-slides.html">Slides from NodePDX</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/24/node-summit-slides.html">Slides from Node Summit</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/17/v0.4-beta.html">ql.io 0.4.0-beta</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/09/benchmarks.html">ql.io Baseline Benchmarks</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - ql.io -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'qlioblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
